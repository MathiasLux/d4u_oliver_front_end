import{f as ke,g as _,h as $,m as je,n as Y,p as Be,u as Le}from"./chunk-M5RTEHEY.js";import{A as oe,Aa as ue,Ba as fe,Ca as he,Da as ge,Ea as pt,Fa as R,Ga as qe,a as Fe,c as Me,d as De,e as U,f as Te,g as z,i as Oe,j as I,k as W,l as Pe,ma as ie,n as K,na as ne,o as h,oa as ae,q as Z,r as X,ra as se,sa as me,ta as le,u as J,ua as pe,w as Q,x as ee,y as te,ya as de,z as re,za as ce}from"./chunk-CLOG65UQ.js";import{$a as Re,Ab as m,Bb as s,Cb as u,Ec as Ae,F as Ee,Fa as k,Gc as H,Ib as C,J as Se,Jb as w,Jc as b,La as N,Rb as p,Sb as V,Tb as E,V as Ie,Wb as M,Za as l,bb as j,c as xe,ca as Ne,db as B,e as lt,f as A,fa as g,fb as Ce,g as F,ga as T,gb as L,h as D,i as we,ka as O,la as d,pb as x,qa as v,qb as q,ra as P,rb as c,t as ye,ta as _e,xc as G}from"./chunk-65ZDSOQE.js";var Ve=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=v({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,a){r&1&&u(0,"router-outlet")},dependencies:[Oe],encapsulation:2});let t=e;return t})();var dt=(()=>{let e=class e extends Y{constructor(o,r,a){super(o,r,a,d(j,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(O(G),O(_),O($))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})();function ct(){return new je}function ut(t,e,i){return new Le(t,e,i)}var He=[{provide:$,useFactory:ct},{provide:Y,useClass:dt},{provide:B,useFactory:ut,deps:[U,Y,L]}],Ge=[{provide:_,useFactory:()=>new Be},{provide:N,useValue:"BrowserAnimations"},...He],ft=[{provide:_,useClass:ke},{provide:N,useValue:"NoopAnimations"},...He],Ue=(()=>{let e=class e{static withConfig(o){return{ngModule:e,providers:o.disableAnimations?ft:Ge}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=P({type:e}),e.\u0275inj=T({providers:Ge,imports:[z]});let t=e;return t})();var We=lt(pt());var $e=(()=>{let e=class e{constructor(){this.password=""}get barLevelClass(){return`bar level-${(0,We.default)(this.password).score}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=v({type:e,selectors:[["ui-password-strength-bar"]],inputs:{password:"password"},standalone:!0,features:[M],decls:6,vars:1,consts:[[3,"ngClass"],[1,"section"]],template:function(r,a){r&1&&(m(0,"div",0),u(1,"div",1)(2,"div",1)(3,"div",1)(4,"div",1)(5,"div",1),s()),r&2&&c("ngClass",a.barLevelClass)},dependencies:[b,Ae],styles:[".bar[_ngcontent-%COMP%]{height:8px;display:flex;column-gap:5px}.section[_ngcontent-%COMP%]{flex:1}.bar.level-0[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]:first-child{background-color:#8b0000}.bar.level-1[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]:nth-child(-n+2){background-color:#ff4500}.bar.level-2[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]:nth-child(-n+3){background-color:orange}.bar.level-3[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]:nth-child(-n+4){background-color:#9acd32}.bar.level-4[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{background-color:#228b22}"],changeDetection:0});let t=e;return t})();function Mt(t,e){if(t&1&&(m(0,"mat-error"),p(1),s()),t&2){let i=w();l(),E(" ",i.getControlErrorMessage("firstName")," ")}}function bt(t,e){if(t&1&&(m(0,"mat-error"),p(1),s()),t&2){let i=w();l(),E(" ",i.getControlErrorMessage("lastName")," ")}}function xt(t,e){if(t&1&&(m(0,"mat-error"),p(1),s()),t&2){let i=w();l(),E(" ",i.getControlErrorMessage("email")," ")}}function wt(t,e){if(t&1&&(m(0,"mat-error"),p(1),s()),t&2){let i=w();l(),E(" ",i.getControlErrorMessage("password")," ")}}function Et(t,e){if(t&1&&(m(0,"mat-error"),p(1),s()),t&2){let i=w();l(),E(" ",i.getControlErrorMessage("passwordConfirm")," ")}}var Ye=(()=>{var e;let i=class i{constructor(){F(this,e,void 0);this.register=new k,this.hide=!0,D(this,e,{email:{required:"email is required",email:"email is not valid"},password:{required:"password is required",weak:"password not strong enough"},passwordConfirm:{required:"password confirm is required",mismatch:"passwords do not match"},firstName:{required:"firstName is required",minLength:"firstName should have at least 1 character"},lastName:{required:"lastName is required",minLength:"lastName should have at least 1 character"}}),this.registerForm=d(re).nonNullable.group({email:["",[h.required,h.email]],password:["",[h.required,R.passwordStrength(3)]],passwordConfirm:["",[h.required,R.match("password")]],firstName:["",[h.required,h.minLength(1)]],lastName:["",[h.required,h.minLength(1)]]})}getControlByName(r){return this.registerForm.controls[r]}hasControlError(r){return this.getControlByName(r).invalid}getControlErrorMessage(r){let a=this.getControlByName(r),n=a.errors?Object.keys(a.errors)[0]:"";return A(this,e)[r][n]}onRegister(){this.register.emit(this.registerForm.value)}};e=new WeakMap,i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=v({type:i,selectors:[["app-register"]],outputs:{register:"register"},standalone:!0,features:[M],decls:45,vars:12,consts:[[1,"image"],["src","https://blog.vantagecircle.com/content/images/size/w1000/2020/12/Decision-making.png"],["routerLink","../login"],[3,"ngSubmit","formGroup"],["matInput","","formControlName","firstName","required",""],[4,"ngIf"],["matInput","","formControlName","lastName","required",""],["matInput","","placeholder","pat@example.com","formControlName","email","required",""],["matInput","","formControlName","password",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["matInput","","type","password","formControlName","passwordConfirm"],[3,"password"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(a,n){a&1&&(m(0,"div",0),u(1,"img",1),s(),m(2,"div")(3,"a",2),p(4," Go to Login "),s(),m(5,"h1"),p(6,"Register with Decison4U"),s(),m(7,"form",3),C("ngSubmit",function(){return n.onRegister()}),m(8,"div")(9,"mat-form-field")(10,"mat-label"),p(11,"Enter your first name"),s(),u(12,"input",4),x(13,Mt,2,1,"mat-error",5),s()(),m(14,"div")(15,"mat-form-field")(16,"mat-label"),p(17,"Enter your last name"),s(),u(18,"input",6),x(19,bt,2,1,"mat-error",5),s()(),m(20,"div")(21,"mat-form-field")(22,"mat-label"),p(23,"Enter your email"),s(),u(24,"input",7),x(25,xt,2,1,"mat-error",5),s()(),m(26,"div")(27,"mat-form-field")(28,"mat-label"),p(29,"Enter your password"),s(),u(30,"input",8),m(31,"button",9),C("click",function(){return n.hide=!n.hide}),m(32,"mat-icon"),p(33),s()(),x(34,wt,2,1,"mat-error",5),s()(),m(35,"div")(36,"mat-form-field")(37,"mat-label"),p(38,"Confirm Password"),s(),u(39,"input",10),x(40,Et,2,1,"mat-error",5),s()(),u(41,"ui-password-strength-bar",11),m(42,"div")(43,"button",12),p(44," Register "),s()()()()),a&2&&(l(7),c("formGroup",n.registerForm),l(6),c("ngIf",n.hasControlError("firstName")),l(6),c("ngIf",n.hasControlError("lastName")),l(6),c("ngIf",n.hasControlError("email")),l(5),c("type",n.hide?"password":"text"),l(),q("aria-label","Hide password")("aria-pressed",n.hide),l(2),V(n.hide?"visibility_off":"visibility"),l(),c("ngIf",n.hasControlError("password")),l(6),c("ngIf",n.hasControlError("passwordConfirm")),l(),c("password",n.getControlByName("password").value),l(2),c("disabled",n.registerForm.invalid))},dependencies:[b,H,me,se,ie,ne,ae,pe,le,oe,J,K,Z,X,te,Q,ee,de,fe,ce,ue,ge,he,$e,W],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;margin-top:100px;gap:50px}.image[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center}h1[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:40px}mat-form-field[_ngcontent-%COMP%]{width:300px}button[_ngcontent-%COMP%]{margin-top:20px}"]});let t=i;return t})();var Ke=(()=>{let e=class e{constructor(){this.service=d(S),this.router=d(I)}canActivate(){return this.service.isAuthenticated?!0:this.router.parseUrl("/auth/login")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ze="Authorization";function Xe(t,e){return`Basic ${btoa(t+":"+e)}`}function Je(t,e){return t.set(Ze,e)}var S=(()=>{let e=class e{constructor(){this.authToken=null,this.userHttpService=d(qe)}get isAuthenticated(){return this.authToken!==null}register(o){return console.log("BasicAuthService#register",o),this.userHttpService.register(o)}login(o){return we(this,null,function*(){console.log("BasicAuthService#login",o),this.authToken=Xe(o.email,o.password);try{return yield this.userHttpService.login()}catch(r){throw this.authToken=null,r}})}logout(){this.authToken=null,document.location.reload()}appendAuthHeader(o){return this.authToken==null?o:o.clone({headers:Je(o.headers,this.authToken)})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Qe=(()=>{let e=class e{constructor(){this.authService=d(S)}intercept(o,r){let a=this.authService.appendAuthHeader(o);return r.handle(a)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})();var et=(()=>{let e=class e{constructor(){this.retryDelay=1e3,this.retryMaxAttempts=3}intercept(o,r){return r.handle(o).pipe(Ie({count:this.retryMaxAttempts,delay:(a,n)=>(console.log("retryCount",n),It(a)?Ee(this.retryDelay*Math.pow(2,n-1)):ye(()=>a))}),Se(a=>ye(()=>new Error(`request ${o.url} failed after ${this.retryMaxAttempts}`))))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),ve=function(t){return t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t}(ve||{}),St=[ve.BadGateway,ve.ServiceUnavailable,ve.GatewayTimeout];function It(t){return t instanceof Fe&&St.includes(t.status)}var tt=(()=>{let e=class e{constructor(){this.authService=d(S),this.router=d(I)}onRegister(o){let n=o,{passwordConfirm:r}=n,a=xe(n,["passwordConfirm"]);this.authService.register(a).then(()=>{this.router.navigate(["/auth/login"])}).catch(f=>{console.error("Register failed:",f)})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=v({type:e,selectors:[["insta-register-container"]],standalone:!0,features:[M],decls:1,vars:0,consts:[[3,"register"]],template:function(r,a){r&1&&(m(0,"app-register",0),C("register",function(f){return a.onRegister(f)}),s())},dependencies:[b,Ye],encapsulation:2});let t=e;return t})();function Nt(t,e){if(t&1&&(m(0,"mat-error"),p(1),s()),t&2){let i=w();l(),E(" ",i.getControlErrorMessage("email")," ")}}function _t(t,e){if(t&1&&(m(0,"mat-error"),p(1),s()),t&2){let i=w();l(),E(" ",i.getControlErrorMessage("password")," ")}}var rt=(()=>{var e;let i=class i{constructor(){F(this,e,void 0);this.login=new k,this.hide=!0,D(this,e,{email:{required:"email is required",email:"email is not valid"},password:{required:"password is required",weak:"password not strong enough"}}),this.loginForm=d(re).nonNullable.group({email:["user1@spg.at",[h.required,h.email]],password:["spengergasse",[h.required,R.passwordStrength(3)]]})}getControlByName(r){return this.loginForm.controls[r]}hasControlError(r){return this.getControlByName(r).invalid}getControlErrorMessage(r){let a=this.getControlByName(r),n=a.errors?Object.keys(a.errors)[0]:"";return A(this,e)[r][n]}onLogin(){this.login.emit(this.loginForm.value)}};e=new WeakMap,i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=v({type:i,selectors:[["app-register"]],outputs:{login:"login"},standalone:!0,features:[M],decls:24,vars:8,consts:[["routerLink","../register"],[3,"ngSubmit","formGroup"],["matInput","","placeholder","pat@example.com","formControlName","email","required",""],[4,"ngIf"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(a,n){a&1&&(m(0,"div")(1,"a",0),p(2," Go to Register "),s(),m(3,"h1"),p(4,"Login with Decison4U"),s(),m(5,"form",1),C("ngSubmit",function(){return n.onLogin()}),m(6,"div")(7,"mat-form-field")(8,"mat-label"),p(9,"Enter your email"),s(),u(10,"input",2),x(11,Nt,2,1,"mat-error",3),s()(),m(12,"div")(13,"mat-form-field")(14,"mat-label"),p(15,"Enter your password"),s(),u(16,"input",4),m(17,"button",5),C("click",function(){return n.hide=!n.hide}),m(18,"mat-icon"),p(19),s()(),x(20,_t,2,1,"mat-error",3),s()(),m(21,"div")(22,"button",6),p(23," Login "),s()()()()),a&2&&(l(5),c("formGroup",n.loginForm),l(6),c("ngIf",n.hasControlError("email")),l(5),c("type",n.hide?"password":"text"),l(),q("aria-label","Hide password")("aria-pressed",n.hide),l(2),V(n.hide?"visibility_off":"visibility"),l(),c("ngIf",n.hasControlError("password")),l(2),c("disabled",n.loginForm.invalid))},dependencies:[b,H,me,se,ie,ne,ae,pe,le,oe,J,K,Z,X,te,Q,ee,de,fe,ce,ue,ge,he,W],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;margin-top:100px;gap:50px}.image[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center}h1[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:40px}mat-form-field[_ngcontent-%COMP%]{width:300px}button[_ngcontent-%COMP%]{margin-top:20px}"]});let t=i;return t})();var ot=(()=>{let e=class e{constructor(){this.authService=d(S),this.router=d(I)}onLogin(o){let r=o;this.authService.login(r).then(()=>{this.router.navigate(["/"])}).catch(a=>{console.error("Login failed:",a)})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=v({type:e,selectors:[["app-login-container"]],standalone:!0,features:[M],decls:1,vars:0,consts:[[3,"login"]],template:function(r,a){r&1&&(m(0,"app-register",0),C("login",function(f){return a.onLogin(f)}),s())},dependencies:[b,rt],encapsulation:2});let t=e;return t})();var it=[{path:"",pathMatch:"prefix",redirectTo:"login"},{path:"login",component:ot},{path:"register",component:tt}];var nt=[{path:"",pathMatch:"full",redirectTo:"projects"},{path:"auth",children:it},{path:"",loadChildren:()=>import("./chunk-JVF3XONX.js").then(t=>t.FeatMainModule),canActivate:[Ke]},{path:"**",redirectTo:"/auth/login"}];var Rt="@",At=(()=>{let e=class e{constructor(o,r,a,n,f){this.doc=o,this.delegate=r,this.zone=a,this.animationType=n,this.moduleImpl=f,this._rendererFactoryPromise=null,this.scheduler=d(j,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-OTNMOHUO.js")).catch(r=>{throw new Ne(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:a})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let n=new a(this.delegate,this._engine,this.zone);return this.delegate=n,n})}createRenderer(o,r){let a=this.delegate.createRenderer(o,r);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let n=new be(a);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(f=>{let mt=f.createRenderer(o,r);n.use(mt)}).catch(f=>{n.use(a)}),n}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){Re()},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),be=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let i of this.replay)i(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,i){this.delegate.appendChild(e,i)}insertBefore(e,i,o,r){this.delegate.insertBefore(e,i,o,r)}removeChild(e,i,o){this.delegate.removeChild(e,i,o)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,o,r){this.delegate.setAttribute(e,i,o,r)}removeAttribute(e,i,o){this.delegate.removeAttribute(e,i,o)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,o,r){this.delegate.setStyle(e,i,o,r)}removeStyle(e,i,o){this.delegate.removeStyle(e,i,o)}setProperty(e,i,o){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(e,i,o)),this.delegate.setProperty(e,i,o)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,o){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(e,i,o)),this.delegate.listen(e,i,o)}shouldReplay(e){return this.replay!==null&&e.startsWith(Rt)}};function at(t="animations"){return Ce("NgAsyncAnimations"),_e([{provide:B,useFactory:(e,i,o)=>new At(e,i,o,t),deps:[G,U,L]},{provide:N,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var st=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=P({type:e,bootstrap:[Ve]}),e.\u0275inj=T({providers:[{provide:Me,useClass:Qe,multi:!0},{provide:Me,useClass:et,multi:!0},at()],imports:[De,z,Ue,Pe.forRoot(nt,{useHash:!0})]});let t=e;return t})();Te().bootstrapModule(st).catch(t=>console.error(t));
